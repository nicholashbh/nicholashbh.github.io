<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NUHS Preventive Medicine Residency Programme</title>
    
    <!-- Google Fonts - Inter font family -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* =========================================== */
        /* ROOT VARIABLES & CSS RESET                  */
        /* =========================================== */
        
        :root {
            /* Primary Colors */
            --primary-navy: #003D82;      /* Main NUHS Navy Blue */
            --accent-cyan: #00B4D8;       /* Bright Cyan Accent */
            --white: #FFFFFF;             /* Pure White */
            
            /* Secondary Colors */
            --primary-blue: #0066CC;      /* Darker Blue for emphasis */
            --accent-orange: #FF6500;     /* NUHS Orange accent */
            --accent-red: #E91E63;        /* NUHS Pink/Red accent */
            
            /* Neutral Colors */
            --light-gray: #F8F9FA;        /* Light background gray */
            --medium-gray: #E9ECEF;       /* Medium gray for borders */
            --dark-gray: #495057;         /* Dark gray for text */
            
            /* Gradient Definitions */
            --gradient-primary: linear-gradient(135deg, var(--primary-navy) 0%, var(--accent-cyan) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent-orange) 0%, var(--accent-red) 100%);
            --gradient-nuhs: linear-gradient(45deg, var(--primary-navy), var(--accent-cyan), var(--accent-orange), var(--accent-red));
        }
        
        /* Universal Box Model Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        
        
        /* =========================================== */
        /* NAVIGATION BAR STYLES                       */
        /* =========================================== */
        
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 0.60rem 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        /* Navigation bar on scroll */
        nav.scrolled {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.1);
        }
        
        /* Navigation container */
        .nav-container {
            max-width: 1200px;
            margin: 0 auto 0 2rem;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Logo section */
        .logo {
            display: flex;
            align-items: center;
            color: var(--primary-navy);
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        /* Removed cross logo icon */
        
        /* Header logo image */
        .header-logo-img {
            width: 90px;
            height: 60px;
            opacity: 1;
            transition: opacity 0.5s ease;
            margin-right: 0.5rem;
        }
        
        /* Logo text animation */
        .logo-text {
            display: none;
        }
        
        /* Navigation links */
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--primary-navy);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            letter-spacing: 0.01em;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--accent-cyan);
        }
        
        /* Modern underline effect on hover */
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent-cyan);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        
        /* =========================================== */
        /* SECTION BASE STYLES                         */
        /* =========================================== */
        
        section {
            padding: 5rem 1rem 5rem 2rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        
        /* =========================================== */
        /* HERO SECTION                                */
        /* =========================================== */
        
	/* Update your .hero class */
	.hero {
    	/* Fallback for older browsers */
            height: 100vh;
            min-height: 100vh;
    
            /* Modern browsers */
            height: 100dvh;
            min-height: 100dvh;
    
            /* Safari-specific */
            min-height: -webkit-fill-available;
    
            /* Your existing styles */
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
        }
        
        /* Video background */
        .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            z-index: -2;
            object-fit: cover;
        }
        
        /* Dark blue semi-transparent mask overlay for better text readability */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 30, 70, 0.7);
            z-index: -1;
        }
        
        /* Add subtle texture overlay for depth */
        .hero-overlay::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="%23ffffff" opacity="0.1"/><circle cx="25" cy="25" r="0.5" fill="%23ffffff" opacity="0.05"/><circle cx="75" cy="75" r="0.8" fill="%23ffffff" opacity="0.08"/></svg>');
            backdrop-filter: blur(1px);
            opacity: 0.3;
        }
        
        .hero-content {
            text-align: left;
            color: var(--white);
            z-index: 1;
            padding: 2rem 2rem 2rem 4rem;
            max-width: 1200px;
            margin: 0 auto 0 2rem;
        }
        
        .hero-content h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 2rem;
            line-height: 1.15;
            letter-spacing: -0.02em;
        }
        
        .hero-subtitle-container {
            height: 2.5em;
            margin-bottom: 3.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            font-weight: 300;
            letter-spacing: 0.02em;
            line-height: 1.4;
            position: absolute;
            width: 100%;
            transition: filter 0.8s ease-out, opacity 0.8s ease-out;
        }
        
        /* Blur effect classes */
        .hero-subtitle.blur-out {
            filter: blur(12px);
            opacity: 0;
        }
        
        .hero-subtitle.blur-in {
            filter: blur(12px);
            opacity: 0;
        }
        
        .hero-subtitle.focused {
            filter: blur(0);
            opacity: 1;
        }
        
        /* Hero badge - More refined design */
        .hero-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.12);
            padding: 0.6rem 1.8rem;
            border-radius: 25px;
            font-size: 0.85rem;
            margin-bottom: 2.5rem;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-weight: 500;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        /* Call-to-action buttons container */
        .cta-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: flex-start;
            flex-wrap: wrap;
        }
        
        /* Button base styles */
        .btn {
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        /* Primary button style - Modern medical blue with advanced effects */
        .btn-primary {
            position: relative;
            background: linear-gradient(135deg, #0066CC 0%, #004499 100%);
            color: #fff;
            padding: 1.2rem 3rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 14px rgba(0, 102, 204, 0.3),
                0 2px 8px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.1);
            border: none;
            font-size: 1rem;
            letter-spacing: 0.01em;
            overflow: hidden;
            isolation: isolate;
            transform-style: preserve-3d;
        }
        
        /* Metallic shine effect */
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.1) 40%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0.1) 60%,
                transparent 100%
            );
            transition: left 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        
        /* Liquid fill effect */
        .btn-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #00B4D8 0%, #0066CC 100%);
            transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
        }
        
        /* Pulsating glow animation */
        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 
                    0 4px 14px rgba(0, 102, 204, 0.3),
                    0 2px 8px rgba(0, 0, 0, 0.1),
                    0 0 20px rgba(0, 180, 216, 0),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    inset 0 -2px 4px rgba(0, 0, 0, 0.1);
            }
            50% {
                box-shadow: 
                    0 4px 14px rgba(0, 102, 204, 0.4),
                    0 2px 8px rgba(0, 0, 0, 0.1),
                    0 0 30px rgba(0, 180, 216, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2),
                    inset 0 -2px 4px rgba(0, 0, 0, 0.1);
            }
        }
        
        .btn-primary {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        /* Text container for z-index */
        .btn-primary span {
            position: relative;
            z-index: 2;
        }
        
        /* Hover state with combined effects */
        .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
            animation: none;
            box-shadow: 
                0 8px 25px rgba(0, 102, 204, 0.5),
                0 4px 12px rgba(0, 0, 0, 0.15),
                0 0 40px rgba(0, 180, 216, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -2px 6px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover::after {
            left: 0;
        }
        
        /* Active state */
        .btn-primary:active {
            transform: translateY(-1px) scale(1.01);
            box-shadow: 
                0 4px 12px rgba(0, 102, 204, 0.4),
                0 2px 6px rgba(0, 0, 0, 0.1),
                0 0 25px rgba(0, 180, 216, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 -1px 3px rgba(0, 0, 0, 0.2);
        }
        
        /* Secondary button style - Refined glass effect */
        .btn-secondary {
            background: rgba(255, 255, 255, 0.15);
            color: var(--white);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            padding: 1.2rem 3rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1);
            font-size: 1rem;
            letter-spacing: 0.01em;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        
        /* =========================================== */
        /* SECTION HEADER STYLES                       */
        /* =========================================== */
        
        .section-header {
            text-align: left;
            margin-bottom: 3rem;
            padding-left: 0;
        }
        
        .section-badge {
            display: inline-block;
            background: var(--gradient-accent);
            color: var(--white);
            padding: 0.5rem 1.5rem;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        h2 {
            font-size: clamp(2rem, 4vw, 2.8rem);
            font-weight: 700;
            color: var(--primary-navy);
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
            line-height: 1.2;
        }
        
        .section-subtitle {
            font-size: 1.2rem;
            color: var(--dark-gray);
            max-width: none;
            margin: 0;
            line-height: 1.6;
            font-weight: 400;
            white-space: nowrap;
        }
        
        
        /* =========================================== */
        /* ABOUT SECTION                               */
        /* =========================================== */
        
        .about {
            background: var(--light-gray);
        }
        
        /* =========================================== */
        /* SCROLL ANIMATIONS                           */
        /* =========================================== */
        
        /* Base animation class */
        .animate-on-scroll {
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Fade up animation */
        .fade-up {
            transform: translateY(30px);
        }
        
        .fade-up.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Fade in from left */
        .fade-left {
            transform: translateX(-30px);
        }
        
        .fade-left.animated {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Fade in from right */
        .fade-right {
            transform: translateX(30px);
        }
        
        .fade-right.animated {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Scale fade animation */
        .scale-fade {
            transform: scale(0.95);
        }
        
        .scale-fade.animated {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Staggered animation delays */
        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; }
        .delay-5 { transition-delay: 0.5s; }
        .delay-6 { transition-delay: 0.6s; }
        
        /* Number counter animation */
        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-cyan);
            display: inline-block;
            min-width: 80px;
            text-align: center;
        }
        
        /* Progress bar animation */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin: 2rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-accent);
            width: 0;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .progress-fill.animated {
            width: 85%;
        }
        
        /* Floating decorative elements */
        .floating-element {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 180, 216, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transition: all 1s ease;
            z-index: 0;
        }
        
        .floating-element.animated {
            opacity: 1;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .about-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 4rem;
        }
        
        .about-card {
            background: var(--white);
            padding: 2rem 2.5rem 2.5rem 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        /* Animated left border for about cards */
        .about-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient-accent);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            transform-origin: bottom;
        }
        
        .about-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
        }
        
        .about-card:hover::before {
            transform: scaleY(1);
        }
        
        /* About card image container - Modern design */
        .about-image {
            width: calc(100% + 4.5rem);
            height: 250px;
            margin: -2rem -2.5rem 1.5rem -2rem;
            overflow: hidden;
            border-radius: 20px 20px 0 0;
            position: relative;
            background: var(--light-gray);
        }
        
        /* About card image */
        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 55% center;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: block;
        }
        
        /* Subtle overlay gradient for better text contrast */
        .about-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.15) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        /* Hover effects for images */
        .about-card:hover .about-image img {
            transform: scale(1.08);
        }
        
        .about-card:hover .about-image::after {
            opacity: 1;
        }
        
        /* Adjust card padding to accommodate full-width images */
        .about-card.with-image {
            padding: 0;
            overflow: hidden;
        }
        
        .about-card.with-image .card-content {
            padding: 2rem 2.5rem 2.5rem 2rem;
        }
        
        .about-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-navy);
        }
        
        
        /* =========================================== */
        /* STATS SECTION                               */
        /* =========================================== */
        
        .stats {
            background-image: url('https://nicholashbh.github.io/brochure/banner_programme_at_a_glance.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: var(--white);
            position: relative;
            overflow: hidden;
        }
        
        /* Dark blue overlay for better text readability - matching hero section */
        .stats::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 30, 70, 0.85) 0%, rgba(0, 61, 130, 0.7) 100%);
            z-index: 0;
        }
        
        /* Animated shimmer effect */
        .stats::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.03) 50%,
                transparent 70%
            );
            animation: shimmerStats 6s infinite;
            z-index: 1;
        }
        
        @keyframes shimmerStats {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }
        
        .stats .container {
            position: relative;
            z-index: 2;
        }
        
        /* Enhanced section header for better visibility */
        .stats .section-header h2 {
            color: var(--white);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            font-weight: 700;
            letter-spacing: 0.02em;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInDown 0.8s ease-out forwards;
        }
        
        @keyframes fadeInDown {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            text-align: center;
            position: relative;
            z-index: 1;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* Enhanced stat item styling */
        .stat-item {
            padding: 1.5rem;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        /* Hover effect for stat items */
        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(0, 180, 216, 0.5);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* Glow effect on hover */
        .stat-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(0, 180, 216, 0.4) 0%, transparent 70%);
            transition: all 0.5s ease;
            transform: translate(-50%, -50%);
        }
        
        .stat-item:hover::before {
            width: 150px;
            height: 150px;
        }
        
        .stat-item h3 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            color: var(--accent-cyan);
            text-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
            filter: brightness(1.2);
            position: relative;
            z-index: 1;
        }
        
        /* Pulse animation when count completes */
        .stat-number.complete {
            animation: pulseStat 0.6s ease-out;
        }
        
        @keyframes pulseStat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .stat-item p {
            font-size: 1.1rem;
            opacity: 0.95;
            color: var(--white);
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
            font-weight: 500;
            letter-spacing: 0.05em;
            position: relative;
            z-index: 1;
        }
        
        
        /* =========================================== */
        /* PROGRAM STRUCTURE - TIMELINE                */
        /* =========================================== */
        
        .structure {
            background: var(--white);
            position: relative;
            overflow: hidden;
        }
        
        /* Subtle background pattern */
        .structure::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 180, 216, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 101, 0, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .timeline {
            position: relative;
            max-width: 1100px;
            margin: 4rem auto;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 4rem;
            padding: 0 2rem;
        }
        
        /* Removed timeline line - no longer needed */
        
        .timeline-item {
            position: relative;
            flex: 0 0 500px;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1;
        }
        
        /* Removed timeline dots - no longer needed */
        
        /* Interactive timeline content container */
        .timeline-content {
            background: transparent;
            backdrop-filter: blur(10px);
            padding: 0;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
                        0 2px 8px rgba(0, 0, 0, 0.05);
            width: 100%;
            position: relative;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            overflow: hidden;
            border: 2px solid transparent;
        }
        
        /* Collapsed state (default) */
        .timeline-content {
            height: auto;
            display: flex;
            flex-direction: column;
        }
        
        /* Active/expanded state */
        .timeline-content.active {
            background: rgba(255, 255, 255, 0.98);
            transform: translateY(-6px);
            box-shadow: 
                0 24px 64px rgba(0, 0, 0, 0.18),
                0 8px 24px rgba(0, 0, 0, 0.1),
                0 0 0 2px rgba(0, 180, 216, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 1);
            cursor: default;
            padding-bottom: 0;
        }
        
        /* Gradient overlay on images */
        .timeline-image {
            width: 100%;
            overflow: hidden;
            position: relative;
            background: var(--light-gray);
            border-radius: 24px;
            aspect-ratio: 16 / 10;
            display: block;
            line-height: 0;
        }
        
        /* Enhanced gradient overlay for better text readability */
        .timeline-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80%;
            background: linear-gradient(to top, 
                rgba(0, 0, 0, 0.9) 0%, 
                rgba(0, 0, 0, 0.75) 20%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                transparent 100%);
            transition: opacity 0.4s ease;
        }
        
        .timeline-content.active .timeline-image::after {
            opacity: 0.5;
        }
        
        .timeline-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            display: block;
        }
        
        /* Enhanced hover effects - Animations 1, 2, 3 combined */
        
        .timeline-content:hover {
            /* Animation 2: Shadow Elevation (no scale) */
            transform: translateY(-4px);
            /* Animation 1: Subtle Glow + Animation 2: Enhanced Shadow */
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15),
                        0 4px 16px rgba(0, 0, 0, 0.1),
                        0 0 0 2px rgba(0, 180, 216, 0.5),
                        0 0 24px rgba(0, 180, 216, 0.25);
        }
        
        /* Animation 3: Overlay Shimmer */
        .timeline-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 100%
            );
            transition: left 0.6s ease;
            z-index: 2;
            pointer-events: none;
        }
        
        .timeline-content:hover .timeline-image::before {
            left: 100%;
        }
        
        /* No image scaling on hover */
        .timeline-content:hover .timeline-image img {
            transform: scale(1);
        }
        
        .timeline-content:hover .expand-icon {
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        /* Timeline header - always visible */
        .timeline-header {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            padding-bottom: 4.5rem; /* Add space for expand button */
            z-index: 3;
            transition: all 0.4s ease;
            margin: 0;
        }
        
        .timeline-content.active .timeline-header {
            position: relative;
            background: var(--white);
            padding: 2.5rem 2.5rem 1rem;
        }
        
        /* Fix border radius when expanded */
        .timeline-content.active .timeline-image {
            border-radius: 24px 24px 0 0;
        }
        
        /* Add subtle animation to timeline header text on hover */
        .timeline-content:hover .timeline-title {
            /* No scale transform */
        }
        
        .timeline-content:hover .timeline-year {
            opacity: 1;
        }
        
        /* Ensure no gaps when collapsed - completely hide everything except image */
        .timeline-content:not(.active) {
            background: transparent;
            line-height: 0;
            font-size: 0;
            border: 2px solid transparent;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
                        0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 0 !important;
            margin: 0 !important;
            height: fit-content !important;
        }
        
        .timeline-content:not(.active) .timeline-image {
            margin: 0;
            line-height: 0;
            font-size: 0;
            border-radius: 24px;
        }
        
        /* Hide the expand icon when collapsed - only show on image */
        .timeline-content:not(.active) .expand-icon {
            bottom: 1rem;
        }
        
        /* Make collapsed content act as pure image container */
        .timeline-content:not(.active) > * {
            display: none;
        }
        
        .timeline-content:not(.active) .timeline-image {
            display: block;
        }
        
        .timeline-title {
            color: var(--white);
            margin: 0;
            font-size: 2.2rem;
            text-align: center;
            font-weight: 800;
            text-shadow: 0 3px 12px rgba(0, 0, 0, 0.7),
                         0 1px 4px rgba(0, 0, 0, 0.5);
            transition: all 0.4s ease;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }
        
        .timeline-year {
            color: var(--white);
            margin: 0;
            font-size: 0.95rem;
            text-align: center;
            font-weight: 300;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
            transition: all 0.4s ease;
            margin-top: 0.2rem;
            opacity: 0.85;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        .timeline-content.active .timeline-title {
            color: var(--primary-navy);
            text-shadow: none;
            margin-bottom: 0.5rem;
        }
        
        .timeline-content.active .timeline-year {
            color: var(--accent-cyan);
            text-shadow: none;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        
        /* Enhanced click indicator */
        .expand-icon {
            position: absolute;
            bottom: 1.2rem;
            left: 50%;
            transform: translateX(-50%);
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            z-index: 4;
        }
        
        /* Pulsing animation for expand icon */
        @keyframes iconPulse {
            0%, 100% { 
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                           inset 0 1px 0 rgba(255, 255, 255, 0.2),
                           0 0 0 0 rgba(255, 255, 255, 0.3);
            }
            50% { 
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3),
                           inset 0 1px 0 rgba(255, 255, 255, 0.2),
                           0 0 0 8px rgba(255, 255, 255, 0);
            }
        }
        
        .expand-icon {
            animation: iconPulse 2s ease-out infinite;
        }
        
        .expand-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }
        
        .timeline-content.active .expand-icon {
            background: var(--accent-cyan);
            border-color: var(--accent-cyan);
            transform: translateX(-50%) rotate(180deg);
            animation: none;
            box-shadow: 0 4px 12px rgba(0, 180, 216, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        /* Timeline body - completely hidden by default */
        .timeline-body {
            padding: 0 2.5rem 2.5rem;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            visibility: hidden;
            position: absolute;
            width: 100%;
        }
        
        .timeline-content.active .timeline-body {
            max-height: 600px;
            opacity: 1;
            visibility: visible;
            position: relative;
        }
        
        /* Timeline duration - removed as year info moved to header */
        
        /* Content list - enhanced styling */
        .timeline-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .timeline-content li {
            padding: 1.2rem 1.5rem;
            padding-left: 3rem;
            position: relative;
            line-height: 1.7;
            color: var(--dark-gray);
            font-size: 1.05rem;
            margin-bottom: 0.8rem;
            background: rgba(0, 180, 216, 0.03);
            border-radius: 12px;
            transform: translateX(-50px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid transparent;
        }
        
        /* Staggered animations for list items */
        .timeline-content.active li:nth-child(1) { transition-delay: 0.3s; }
        .timeline-content.active li:nth-child(2) { transition-delay: 0.4s; }
        .timeline-content.active li:nth-child(3) { transition-delay: 0.5s; }
        .timeline-content.active li:nth-child(4) { transition-delay: 0.6s; }
        
        .timeline-content.active li {
            transform: translateX(0);
            opacity: 1;
        }
        
        /* List item hover effects */
        .timeline-content li:hover {
            background: rgba(0, 180, 216, 0.08);
            transform: translateX(5px);
            border-color: rgba(0, 180, 216, 0.2);
            box-shadow: 0 4px 15px rgba(0, 180, 216, 0.1);
        }
        
        /* Modern bullet points */
        .timeline-content li::before {
            content: '';
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: var(--accent-cyan);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .timeline-content li:hover::before {
            width: 12px;
            height: 12px;
            left: 1rem;
            box-shadow: 0 0 0 3px rgba(0, 180, 216, 0.2);
        }
        
        
        /* =========================================== */
        /* REQUIREMENTS SECTION                        */
        /* =========================================== */
        
        .requirements {
            background: var(--light-gray);
        }
        
        .req-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .req-card {
            background: var(--white);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .req-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }
        
        .req-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .req-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-accent);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.3rem;
        }
        
        .req-card h3 {
            color: var(--primary-navy);
            font-size: 1.3rem;
        }
        
        .req-list {
            list-style: none;
        }
        
        .req-list li {
            padding: 0.8rem 0;
            padding-left: 2rem;
            position: relative;
        }
        
        /* Checkmark before each requirement */
        .req-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--accent-cyan);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        
        /* =========================================== */
        /* FEATURES SECTION - CORE COMPETENCIES        */
        /* =========================================== */
        
        .features {
            background: var(--light-gray);
            position: relative;
            overflow: hidden;
        }
        
        /* Animated particle background */
        .features::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 180, 216, 0.15), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(0, 102, 204, 0.1), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(233, 30, 99, 0.1), transparent),
                radial-gradient(3px 3px at 80% 20%, rgba(0, 180, 216, 0.08), transparent);
            background-size: 200px 200px, 300px 300px, 180px 180px, 250px 250px;
            animation: particleFloat 20s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes particleFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-20px, -20px) rotate(120deg); }
            66% { transform: translate(20px, -10px) rotate(240deg); }
        }
        
        /* Tab Toggle System */
        .competency-tabs {
            display: flex;
            justify-content: center;
            margin: 3rem auto 4rem;
            position: relative;
            z-index: 2;
        }
        
        .tab-toggle {
            display: flex;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 0.5rem;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.8),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05);
            position: relative;
            border: 1px solid rgba(0, 61, 130, 0.1);
        }
        
        .tab-button {
            padding: 1rem 2.5rem;
            border: none;
            background: transparent;
            color: var(--dark-gray);
            font-size: 1.05rem;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 2;
            border-radius: 45px;
            letter-spacing: 0.02em;
        }
        
        .tab-button:hover {
            color: var(--primary-navy);
        }
        
        .tab-button.active {
            color: var(--white);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        /* Sliding background indicator */
        .tab-indicator {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            height: calc(100% - 1rem);
            background: linear-gradient(135deg, var(--primary-navy) 0%, var(--accent-cyan) 100%);
            border-radius: 45px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 15px rgba(0, 61, 130, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        /* Tab content wrapper to maintain height */
        .tab-content-wrapper {
            position: relative;
            min-height: 600px; /* Initial minimum height */
            transition: min-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Tab content containers */
        .tab-content {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
        }
        
        .tab-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            position: relative;
        }

        
        /* Enhanced grid for features */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            position: relative;
            z-index: 1;
        }
        
        /* Glassmorphism feature cards */
        .feature-card {
            text-align: center;
            padding: 2.5rem 2rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        /* Gradient mesh background for cards */
        .feature-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 30% 20%, rgba(0, 180, 216, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(233, 30, 99, 0.05) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }
        
        .feature-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            border-color: rgba(0, 180, 216, 0.3);
        }
        
        .feature-card:hover::before {
            opacity: 1;
        }
        
        /* Modern feature icons with gradient numbers */
        .feature-icon {
            width: 90px;
            height: 90px;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Gradient number style for domains */
        .feature-icon.domain-icon {
            position: relative;
            overflow: hidden;
        }
        

        
        .feature-icon.domain-icon span {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-navy), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            letter-spacing: -0.02em;
        }
        
        /* Image icons for domains and topics */
        .feature-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: inherit;
        }
        
        /* Topic icons with better styling */
        .feature-icon.topic-icon {
            /* Removed box styling - icons now display without background */
        }
        
        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        /* Enhanced typography */
        .feature-card h3 {
            color: var(--primary-navy);
            margin-bottom: 1rem;
            font-size: 1.4rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            line-height: 1.3;
        }
        
        /* Remove paragraph styling since Medicine topics now use floating badges
        .feature-card p {
            color: var(--dark-gray);
            font-size: 1rem;
            line-height: 1.6;
            font-weight: 400;
            opacity: 0.9;
            margin: 0;
        } */
        
        /* Floating badge for domain elaborations */
        .feature-elaboration {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(135deg, var(--accent-orange) 0%, var(--accent-red) 100%);
            color: white;
            padding: 0.5rem 1.2rem;
            border-radius: 24px;
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            transform: translateY(-10px) scale(0.95);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(255, 101, 0, 0.3);
            white-space: nowrap;
            z-index: 10;
            
            /* Glassy effect */
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            
            /* Subtle shimmer effect */
            background-size: 200% 200%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Hover state for elaboration badge */
        .feature-card:hover .feature-elaboration {
            opacity: 1;
            transform: translateY(0) scale(1);
            box-shadow: 0 8px 30px rgba(255, 101, 0, 0.4),
                        0 0 0 1px rgba(255, 255, 255, 0.3);
        }
        
        /* Alternative badge styles for variety */
        .feature-card:nth-child(even) .feature-elaboration {
            background: linear-gradient(135deg, var(--primary-navy) 0%, var(--accent-cyan) 100%);
            box-shadow: 0 4px 20px rgba(0, 180, 216, 0.3);
        }
        
        .feature-card:nth-child(even):hover .feature-elaboration {
            box-shadow: 0 8px 30px rgba(0, 180, 216, 0.4),
                        0 0 0 1px rgba(255, 255, 255, 0.3);
        }
        
        /* Pulse effect on hover for some badges */
        .feature-card:nth-child(3n) .feature-elaboration {
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
        }
        
        .feature-card:nth-child(3n):hover .feature-elaboration {
            animation: badgePulse 2s ease-in-out infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% {
                box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4),
                           0 0 0 1px rgba(255, 255, 255, 0.3),
                           0 0 0 0 rgba(139, 92, 246, 0.2);
            }
            50% {
                box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4),
                           0 0 0 1px rgba(255, 255, 255, 0.3),
                           0 0 0 10px rgba(139, 92, 246, 0);
            }
        }
        
        /* Consistent top-right positioning for all badges */
        .feature-elaboration {
            top: 1rem !important;
            right: 1rem !important;
            left: auto !important;
        }
        
        /* Floating icon effect for badges */
        .feature-elaboration::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -3px;
            transform: translateY(-50%);
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            animation: dotPulse 2s ease-in-out infinite;
        }
        
        @keyframes dotPulse {
            0%, 100% { transform: translateY(-50%) scale(1); opacity: 0.8; }
            50% { transform: translateY(-50%) scale(1.2); opacity: 1; }
        }
        

        
        /* Subsection headers with better spacing */
        .subsection-header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            z-index: 1;
        }
        
        .subsection-header h3 {
            font-size: 2rem;
            color: var(--primary-navy);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .subsection-header p {
            font-size: 1.15rem;
            color: var(--dark-gray);
            font-weight: 400;
            opacity: 0.8;
            letter-spacing: 0.01em;
        }
        
        
        /* =========================================== */
        /* LIFE IN OUR PROGRAMME SECTION               */
        /* =========================================== */
        
        .life-programme {
            background: var(--white);
            position: relative;
            overflow: hidden;
        }
        
        /* Subsection titles */
        .subsection-title {
            font-size: 1.8rem;
            color: var(--primary-navy);
            margin-bottom: 2.5rem;
            text-align: left;
            font-weight: 600;
            letter-spacing: -0.02em;
        }
        
        /* Testimonials Section */
        .testimonials-section {
            margin-bottom: 5rem;
        }
        
        .testimonials-carousel {
            position: relative;
            max-width: 1000px;
            margin: 0;
            overflow: hidden;
        }
        
        .testimonials-wrapper {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Testimonial Card - Glassmorphism design */
        .testimonial-card {
            flex: 0 0 100%;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
            padding: 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            height: 400px; /* Fixed height for consistency */
        }
        
        /* Left side - Student photo area */
        .student-photo-section {
            flex: 0 0 300px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 24px 0 0 24px; /* Rounded left corners only */
            background: #f0f0f0; /* Neutral background for loading */
        }
        
        /* Apply gradient only when showing initials */
        .student-photo-section.has-initials {
            background: var(--gradient-accent);
        }
        
        .student-photo-section img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            display: block; /* Remove any gaps */
        }
        
        /* Fallback initials display */
        .student-initials {
            font-size: 4rem;
            font-weight: 700;
            color: var(--white);
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.1em;
        }
        
        /* Right side - Content area */
        .testimonial-content-section {
            flex: 1;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* Changed from center to flex-start */
            overflow-y: auto; /* Handle longer content */
            max-height: 100%;
        }
        
        /* Custom scrollbar styling for testimonials */
        .testimonial-content-section::-webkit-scrollbar {
            width: 6px;
        }
        
        .testimonial-content-section::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 3px;
        }
        
        .testimonial-content-section::-webkit-scrollbar-thumb {
            background: rgba(0, 61, 130, 0.2);
            border-radius: 3px;
            transition: background 0.3s ease;
        }
        
        .testimonial-content-section::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 61, 130, 0.4);
        }
        
        /* Decorative gradient background */
        .testimonial-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 70% 30%, rgba(0, 180, 216, 0.08) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }
        
        .testimonial-card:hover::before {
            opacity: 1;
        }
        
        /* Student info header */
        .student-info {
            margin-bottom: 1.5rem;
        }
        
        .student-details h4 {
            color: var(--primary-navy);
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
            letter-spacing: -0.02em;
        }
        
        .student-details .year {
            color: var(--accent-cyan);
            font-weight: 600;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        /* Testimonial content */
        .testimonial-content {
            position: relative;
            flex: 1; /* Take available space */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        /* Quote mark */
        .testimonial-content::before {
            content: '"';
            position: absolute;
            left: -1.5rem;
            top: -1rem;
            font-size: 4rem;
            color: var(--accent-cyan);
            opacity: 0.3;
            font-family: Georgia, serif;
        }
        
        .testimonial-text {
            font-size: 0.825rem;
            line-height: 1.8;
            color: var(--dark-gray);
            font-style: italic;
            padding-right: 1rem; /* Space for scrollbar */
			white-space: pre-line;  /* Add this line */

        }
        
        /* Carousel Navigation */
        .carousel-nav {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 2.5rem;
        }
        
        .carousel-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(0, 61, 130, 0.08);
            border: 2px solid rgba(0, 61, 130, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--primary-navy);
        }
        
        .carousel-btn:hover {
            background: var(--primary-navy);
            border-color: var(--primary-navy);
            color: var(--white);
            transform: scale(1.1);
        }
        
        .carousel-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .carousel-btn:disabled:hover {
            transform: scale(1);
            background: rgba(0, 61, 130, 0.08);
            color: var(--primary-navy);
        }
        
        /* Carousel dots */
        .carousel-dots {
            display: flex;
            gap: 0.5rem;
            padding: 0 1rem;
        }
        
        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(0, 61, 130, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-dot.active {
            width: 24px;
            border-radius: 4px;
            background: var(--primary-navy);
        }
        
        /* Photo Gallery Section */
        .gallery-section {
            position: relative;
        }
        
        .gallery-carousel {
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            overflow: hidden;
            padding: 0 60px;
        }
        
        .gallery-wrapper {
            display: flex;
            gap: 1.5rem;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Gallery items */
        .gallery-item {
            flex: 0 0 calc(33.333% - 1rem);
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            aspect-ratio: 16 / 10;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        
        /* Gallery item overlay */
        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, transparent 100%);
            padding: 1.5rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }
        
        .gallery-caption {
            color: var(--white);
            font-size: 0.9rem;
            font-weight: 500;
            line-height: 1.4;
        }
        
        /* Gallery navigation */
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            color: var(--primary-navy);
            z-index: 2;
        }
        
        .gallery-nav:hover {
            background: var(--primary-navy);
            color: var(--white);
            transform: translateY(-50%) scale(1.1);
        }
		
		/* Disabled state for gallery navigation */
		.gallery-nav:disabled {
			opacity: 0.3;
			cursor: not-allowed;
		}

		.gallery-nav:disabled:hover {
			background: rgba(255, 255, 255, 0.9);
			color: var(--primary-navy);
			transform: translateY(-50%);
		}
        
        .gallery-nav-prev {
            left: 10px;
        }
        
        .gallery-nav-next {
            right: 10px;
        }
        
        /* Lightbox */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 2rem;
        }
        
        .lightbox.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .lightbox img {
            max-width: 90%;
            max-height: 85%;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .lightbox-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            color: var(--white);
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .lightbox-caption {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: var(--white);
            font-size: 1.1rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.75rem 2rem;
            border-radius: 30px;
            backdrop-filter: blur(10px);
        }
        
        
        /* =========================================== */
        /* CALL-TO-ACTION SECTION                      */
        /* =========================================== */
        
        .cta-section {
            background: var(--gradient-primary);
            color: var(--white);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        /* Animated dot pattern background */
        .cta-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: float 15s linear infinite reverse;
        }
        
        .cta-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .cta-section h2 {
            color: var(--white);
            margin-bottom: 2rem;
        }
        
        .cta-section p {
            font-size: 1.3rem;
            margin-bottom: 3rem;
            opacity: 0.9;
            width: 100%;
            text-align: center;
        }
        
        .cta-section .btn {
            margin: 0 auto;
        }
        
        
        /* =========================================== */
        /* FOOTER                                      */
        /* =========================================== */
        
        footer {
            background: var(--primary-navy);
            color: var(--white);
            padding: 3rem 2rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        /* Gradient top border */
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-nuhs);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 2rem;
        }
        
        
        /* =========================================== */
        /* WELCOME OVERLAY STYLES                      */
        /* =========================================== */
        
        .welcome-overlay {
            position: fixed;
            inset: 0;
            z-index: 10000;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        /* Skip button styles */
        .skip-button {
            position: absolute;
            top: 2rem;
            right: 2rem;
            z-index: 10001;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 61, 130, 0.2);
            border-radius: 30px;
            color: var(--primary-navy);
            font-size: 0.95rem;
            font-weight: 500;
            font-family: inherit;
            letter-spacing: 0.02em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(-10px);
            animation: skipButtonFadeIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1s forwards;
        }
        
        /* Skip icon styling */
        .skip-icon {
            transition: transform 0.3s ease;
        }
        
        /* Skip button hover effects */
        .skip-button:hover {
            background: rgba(0, 61, 130, 0.1);
            border-color: var(--primary-navy);
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 4px 20px rgba(0, 61, 130, 0.15);
        }
        
        .skip-button:hover .skip-icon {
            transform: translateX(2px);
        }
        
        /* Skip button active state */
        .skip-button:active {
            transform: translateY(-10px) scale(1.02);
        }
        
        /* Skip button fade-in animation */
        @keyframes skipButtonFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Split screen layout for welcome overlay */
        .split-screen-container {
            display: flex;
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .split-left {
            flex: 0 0 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding-right: 2rem;
        }
        
        .split-right {
            flex: 0 0 60%;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding-left: 0;
        }
        
        /* Modern divider between logo and text */
        .split-divider {
            position: absolute;
            left: 30%;
            top: 50%;
            transform: translateY(-50%);
            width: 2px;
            height: 0;
            background: linear-gradient(180deg, 
                transparent 0%,
                rgba(0, 61, 130, 0.2) 20%,
                rgba(0, 61, 130, 0.6) 50%,
                rgba(0, 180, 216, 0.6) 60%,
                rgba(0, 180, 216, 0.2) 80%,
                transparent 100%);
            animation: dividerGrow 1.5s cubic-bezier(0.4, 0, 0.2, 1) 1s forwards;
            overflow: visible;
        }
        
        /* Divider decorative elements */
        .split-divider::before,
        .split-divider::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            opacity: 0;
            animation: dividerDotFade 0.8s ease-out 2.3s forwards;
        }
        
        .split-divider::before {
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            background: radial-gradient(circle, var(--accent-cyan) 0%, transparent 70%);
        }
        
        .split-divider::after {
            bottom: 30%;
            left: 50%;
            transform: translateX(-50%);
            background: radial-gradient(circle, var(--primary-navy) 0%, transparent 70%);
        }
        
        @keyframes dividerGrow {
            to {
                height: 60%;
            }
        }
        
        @keyframes dividerDotFade {
            to {
                opacity: 0.6;
            }
        }
        
        /* Logo entrance animation */
        .logo-wrapper {
            width: 200px;
            height: 200px;
            opacity: 0;
            transform: scale(0.9);
            animation: logoEntrance 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.3s forwards;
        }
        
        .nuhs-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        @keyframes logoEntrance {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Welcome text styles */
        .welcome-text {
            color: var(--primary-navy);
            max-width: 800px;
            margin-left: -4rem;
        }
        
        .welcome-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.5s forwards;
        }
        
        .residency-title {
            font-size: 2.8rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        /* Typing animation styles */
        .typing-line-1,
        .typing-line-2 {
            display: block;
            overflow: hidden;
            white-space: nowrap;
            width: 0;
        }
        
        .typing-line-1 {
            border-right: 3px solid var(--primary-navy);
        }
        
        /* Line 1: 27 characters @ 50ms per character = 1.35s */
        .typing-line-1 {
            animation: 
                typing1 1.35s steps(27) 0.8s forwards,
                blink 0.75s step-end 0.8s 2,        /* Blink twice while typing */
                blink 0.75s step-end 2.15s 1,       /* Final blink */
                hideCursor 0.01s 2.9s forwards;     /* Remove cursor */
        }
        
        /* Line 2: 20 characters @ 50ms per character = 1.0s */
        .typing-line-2 {
            margin-top: 0.8rem;
            font-size: 1.8rem;
            font-weight: 400;
            letter-spacing: 0.05em;
            animation: 
                showCursor2 0.01s 2.5s forwards,
                typing2 1s steps(20) 2.5s forwards,
                blink 0.75s step-end 2.5s 2,
                blink 0.75s step-end 3.65s 1,
                hideCursor 0.01s 4.4s forwards;
        }
        
        @keyframes typing1 {
            to {
                width: 27ch;
            }
        }
        
        @keyframes typing2 {
            to {
                width: 20ch;
            }
        }
        
        @keyframes blink {
            50% {
                border-color: transparent;
            }
        }
        
        @keyframes hideCursor {
            to {
                border-color: transparent;
            }
        }
        
        @keyframes showCursor2 {
            to {
                border-right: 3px solid var(--primary-navy);
            }
        }
        
        /* Accent line animation */
        .accent-line {
            position: absolute;
            bottom: 20%;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--primary-navy));
            transform: translateX(-50%);
            animation: expandLine 0.8s cubic-bezier(0.4, 0, 0.2, 1) 4.7s forwards;
        }
        
        @keyframes expandLine {
            to {
                width: 200px;
            }
        }
        
        /* Header logo visibility classes */
        .header-logo-img.visible {
            opacity: 1;
        }
        
        .logo-text.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Welcome overlay exit animation - everything fades together */
        .welcome-overlay.fade-out {
            animation: overlayFadeOut 1.2s ease-out 5.9s forwards;
        }
        
        @keyframes overlayFadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        
        /* =========================================== */
        /* UTILITY ANIMATIONS                          */
        /* =========================================== */
        
        /* Float animation for backgrounds */
        @keyframes float {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(30px, 30px);
            }
        }
        
        /* Shimmer effect for placeholders */
        @keyframes shimmer {
            0% { 
                transform: translateX(-100%) translateY(-100%) rotate(45deg); 
            }
            100% { 
                transform: translateX(100%) translateY(100%) rotate(45deg); 
            }
        }
        
        
        /* =========================================== */
        /* ADDITIONAL COMPONENTS                       */
        /* =========================================== */
        
        /* Image placeholder styles */
        .image-placeholder {
            width: 100%;
            height: 300px;
            background: var(--gradient-accent);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.2rem;
            font-weight: 600;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .image-placeholder::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.2) 50%, transparent 70%);
            animation: shimmer 2s infinite;
        }
        
        /* About Content Layout - Modern Two Column */
        .about-content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin: 2rem 0 3rem 0;
            align-items: start;
        }
        
        /* Programme Description Column */
        .programme-description {
            padding-right: 1.5rem;
        }
        
        .programme-description h3 {
            color: var(--primary-navy);
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            line-height: 1.3;
            margin-top: 0;
        }
        
        .programme-description p {
            font-size: 1.15rem;
            line-height: 1.8;
            color: var(--dark-gray);
            margin-bottom: 1.5rem;
	    text-align: justify;
	    text-justify: inter-word;
        }
        
        /* Director Column */
        .director-column {
            background: linear-gradient(135deg, var(--light-gray) 0%, rgba(0, 180, 216, 0.05) 100%);
            border-radius: 24px;
            padding: 2rem 2.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            align-self: stretch;
        }
        
        /* Animated border for director column */
        .director-column.animated::before {
            transform: scaleY(1);
            transition-delay: 0.8s;
        }
        
        .director-column:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.12);
        }
        
        /* Decorative accent line */
        .director-column::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient-accent);
        }
        
        /* Director Header with Photo */
        .director-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .director-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--white);
            flex-shrink: 0;
        }
        
        .director-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .director-details h4 {
            color: var(--primary-navy);
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.2rem;
        }
        
        .director-details .title {
            color: var(--accent-cyan);
            font-weight: 600;
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }
        
        /* Director Quote */
        .director-quote-section {
            position: relative;
            padding-left: 1.5rem;
        }
        
        .director-quote-section::before {
            content: '"';
            position: absolute;
            left: -10px;
            top: -20px;
            font-size: 4rem;
            color: var(--accent-orange);
            opacity: 0.3;
            font-family: Georgia, serif;
        }
        
        .director-quote {
            font-style: italic;
            color: var(--dark-gray);
            font-size: 1.05rem;
            line-height: 1.7;
            position: relative;
            text-align: justify;
        }
        
        /* Highlight box for emphasis */
        .highlight-box {
            background: rgba(0, 180, 216, 0.08);
            border-left: 3px solid var(--accent-cyan);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }
        
        .highlight-box p {
            margin: 0;
            font-weight: 500;
            color: var(--primary-navy);
        }
        
        
        /* All responsive styles removed for desktop-first design */
        
        /* Desktop-first design - No responsive breakpoints */
    </style>
</head>
<body>
    <!-- ============================================= -->
    <!-- WELCOME OVERLAY SECTION                       -->
    <!-- ============================================= -->
    <div class="welcome-overlay" id="welcomeOverlay">
        <!-- Skip button -->
        <button class="skip-button" id="skipButton">
            <span>Skip</span>
            <svg class="skip-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.5 5v14l11-7z" fill="currentColor"/>
            </svg>
        </button>
        
        <div class="split-screen-container">
        <!-- Left side: Logo -->
        <div class="split-left">
        <div class="logo-wrapper" id="overlayLogo">
        <img src="https://nicholashbh.github.io/brochure/nuhs_logo.png" alt="NUHS" class="nuhs-logo">
        </div>
        <div class="accent-line"></div>
        </div>
        
        <!-- Modern divider -->
        <div class="split-divider"></div>
                
                <!-- Right side: Welcome text with typing animation -->
                <div class="split-right">
                <div class="welcome-text">
                    <h1 class="welcome-title">Welcome to the</h1>
                    <h2 class="residency-title">
                        <span class="typing-line-1">Preventive Medicine Residency</span>
                        <span class="typing-line-2">A National Programme</span>
                    </h2>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- ============================================= -->
    <!-- NAVIGATION BAR                                -->
    <!-- ============================================= -->
    <nav id="navbar">
        <div class="nav-container">
            <!-- Logo section -->
            <div class="logo" id="headerLogo">
                <img src="https://nicholashbh.github.io/brochure/nuhs_logo.png" alt="NUHS" class="header-logo-img" id="headerLogoImg">
                <span class="logo-text">Preventive Medicine</span>
            </div>
            
            <!-- Navigation links -->
            <ul class="nav-links">
                <li><a href="#about">About</a></li>
                <li><a href="#structure">Programme</a></li>
                <li><a href="#features">Skills</a></li>
                <li><a href="#life-programme">Testimonials</a></li>
                <li><a href="#apply">Apply</a></li>
            </ul>
        </div>
    </nav>
    
    
    <!-- ============================================= -->
    <!-- HERO SECTION                                  -->
    <!-- ============================================= -->
    <section class="hero">
        <!-- Video background -->
        <video class="hero-video" autoplay loop muted playsinline>
            <source src="https://nicholashbh.github.io/brochure/background_vid.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        <!-- Overlay for better text readability -->
        <div class="hero-overlay"></div>
        
        <div class="hero-content">
            <!-- Main heading -->
            <h1>Shaping the Healthcare <br>of our Nation </h1>
            
            <!-- Subtitle with rotating taglines -->
            <div class="hero-subtitle-container">
                <p class="hero-subtitle" id="heroTagline">Prevent Today, Protect Tomorrow</p>
            </div>
            
            <!-- Call-to-action buttons -->
            <div class="cta-buttons">
                <a href="#apply" class="btn btn-primary"><span>More Details</span></a>
                <a href="#about" class="btn btn-secondary">Explore Programme</a>
            </div>
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- ABOUT SECTION                                 -->
    <!-- ============================================= -->
    <section class="about" id="about">
        <div class="container">
            <!-- Section header -->
            <div class="section-header">
                <span class="section-badge animate-on-scroll fade-up">About the Programme</span>
                <h2 class="animate-on-scroll fade-up delay-1">Transforming Healthcare Through Prevention</h2>
            </div>
            
            <!-- Two Column Content Layout -->
            <div class="about-content-wrapper">
                <!-- Left Column: Programme Description -->
                <div class="programme-description animate-on-scroll fade-left delay-2">
                    <h3>A Legacy of Excellence in Preventive Medicine</h3>
                    <p>
						Preventive Medicine focuses on the health of individuals and
						communities in order to promote, protect and maintain health and
						well-being and to prevent disease, disability and premature death.
					</p>
					
					<p>
						The Programme equips residents with a sound and broad foundation in 
						Public Health and/or Occupational Medicine, with the knowledge, skills 
						and experiences to become future leaders in health and healthcare systems.
                    </p>
                </div>
                
                <!-- Right Column: Director Information -->
                <div class="director-column animate-on-scroll scale-fade delay-3">
                    <!-- Floating decorative element -->
                    <div class="floating-element animate-on-scroll delay-5" style="top: -50px; right: -50px;"></div>
                    <div class="director-header">
                        <div class="director-photo">
                            <img src="prof_jason_yap.png" 
                                 alt="A/Prof Jason Yap" 
                                 onerror="this.style.display='none'; this.parentElement.style.background='var(--gradient-accent)'">
                        </div>
                        <div class="director-details">
                            <h4>A/Prof Jason Yap</h4>
                            <p class="title">Programme Director</p>
                        </div>
                    </div>
                    <div class="director-quote-section">
                        <p class="director-quote">
                            "With the challenges facing Singapore, Preventive Medicine physicians are needed as never before ... 
                          Singapore faces a converges of an ageing population, increasing chronic disease, escalating healthcare costs
                          and a maelstrom of healthcare reforms at macro, meso and micro levels. These are bread-and-butter issues for 
                          the Preventive Medicine practitioner."
                        </p>
                        <p style="font-size: 0.9rem; margin-top: 1rem; font-style: normal; color: var(--accent-cyan);">
                            â€” Interview with Singapore Medical Association, 2018 
                            <a href="https://www.sma.org.sg/UploadedImg/files/Publications%20-%20SMA%20News/5003/Feature.pdf" 
                               target="_blank" 
                               style="color: var(--accent-cyan); text-decoration: underline;">
                               [Source]
                            </a>
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- About features grid -->
            <div class="about-grid">
                <!-- Mission card -->
                <div class="about-card with-image animate-on-scroll fade-up delay-3">
                    <div class="about-image">
                        <img src="https://nicholashbh.github.io/brochure/mission_driven.png" 
                             alt="Mission-Driven Healthcare" 
                             loading="lazy">
                    </div>
                    <div class="card-content">
                        <h3>Mission-Driven</h3>
                        <p>
                            Focus on the health of individuals and communities to promote, protect and maintain 
                            health and well-being while preventing disease, disability and premature death.
                        </p>
                    </div>
                </div>
                
                <!-- Training sites card -->
                <div class="about-card with-image animate-on-scroll fade-up delay-4">
                    <div class="about-image">
                        <img src="https://nicholashbh.github.io/brochure/diverse_training.png" 
                             alt="Diverse Training Sites" 
                             loading="lazy">
                    </div>
                    <div class="card-content">
                        <h3>Diverse Training Sites</h3>
                        <p>
                            Rotate through ministries and statutory agencies including MOH, HPB, MOM, SAF, and all major 
                            healthcare clusters for comprehensive exposure.
                        </p>
                    </div>
                </div>
                
                <!-- Professional excellence card -->
                <div class="about-card with-image animate-on-scroll fade-up delay-5">
                    <div class="about-image">
                        <img src="https://nicholashbh.github.io/brochure/professional_excellence.png" 
                             alt="Professional Excellence" 
                             loading="lazy">
                    </div>
                    <div class="card-content">
                        <h3>Professional Excellence</h3>
                        <p>
                            Mandatory MPH from NUS or recognized institutions, alongside structured assessments,
			     to ensure technical competency
                        </p>
                    </div>
                </div>
            </div>
            
            </div> <!-- End tab-content-wrapper -->
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- STATISTICS SECTION                            -->
    <!-- ============================================= -->
    <section class="stats">
        <div class="container">
            <!-- Section header -->
            <div class="section-header">
                <h2 style="color: white;">Programme at a Glance</h2>
            </div>
            
            <!-- Statistics grid -->
            <div class="stats-grid">
                <div class="stat-item animate-on-scroll fade-up">
                    <h3 class="stat-number" data-count="50" data-suffix="+">0</h3>
                    <p>Years of Excellence</p>
                </div>
                <div class="stat-item animate-on-scroll fade-up delay-1">
                    <h3 class="stat-number" data-count="5" data-suffix="">0</h3>
                    <p>Years Total Training</p>
                </div>
                <div class="stat-item animate-on-scroll fade-up delay-2">
                    <h3 class="stat-number" data-count="10" data-suffix="+">0</h3>
                    <p>Rotation Sites</p>
                </div>
                <div class="stat-item animate-on-scroll fade-up delay-3">
                    <h3 class="stat-number" data-count="100" data-suffix="%">0</h3>
                    <p>Sponsorship for Part-time MPH</p>
                </div>
            </div>
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- PROGRAMME STRUCTURE SECTION                   -->
    <!-- ============================================= -->
    <section class="structure" id="structure">
        <div class="container">
            <!-- Section header -->
            <div class="section-header">
                <span class="section-badge">Programme Structure</span>
                <h2>Your Journey to Specialist Accreditation</h2>
                <p class="section-subtitle">
                    A comprehensive 5-year training pathway designed to develop future leaders in preventive medicine
                </p>
            </div>
            
            <!-- Timeline -->
            <div class="timeline">
                <!-- Junior Residency -->
                <div class="timeline-item animate-on-scroll fade-up">
                    <div class="timeline-content" id="juniorResidency">
                        <div class="timeline-image">
                            <img src="https://nicholashbh.github.io/brochure/junior_residency.png" 
                                 alt="Junior Residency Training" 
                                 loading="lazy">
                            <div class="timeline-header">
                                <h3 class="timeline-title">Junior Residency</h3>
                                <p class="timeline-year">(Year 1-3)</p>
                            </div>
                            <div class="expand-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="timeline-body">
                            <ul>
                                <li>Completed and passed the MPH or equivalent</li>
                                <li>Passed the Progression Preventive Medicine Competency Committee Review</li>
                                <li>PD certification of successful completion of R3</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Senior Residency -->
                <div class="timeline-item animate-on-scroll fade-up delay-2">
                    <div class="timeline-content" id="seniorResidency">
                        <div class="timeline-image">
                            <img src="https://nicholashbh.github.io/brochure/senior_residency.png" 
                                 alt="Senior Residency Training" 
                                 loading="lazy">
                            <div class="timeline-header">
                                <h3 class="timeline-title">Senior Residency</h3>
                                <p class="timeline-year">(Year 4-5)</p>
                            </div>
                            <div class="expand-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="timeline-body">
                            <ul>
                                <li>Advanced rotations at 2+ sites (different organisations)</li>
                                <li>Written Exam</li>
                                <li>Oral assessment (viva voce)</li>
				<li>First author publication or technical/process reports on related field</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
           
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- CORE COMPETENCIES SECTION                     -->
    <!-- ============================================= -->
    <section class="features" id="features">
        <div class="container">
            <!-- Section header -->
            <div class="section-header">
                <span class="section-badge">Core Competencies</span>
                <h2>Main Themes and Essential Domains</h2>
                <p class="section-subtitle">
                    Build expertise across the full spectrum of preventive medicine
                </p>
            </div>
            
            <!-- Interactive Tab Toggle -->
            <div class="competency-tabs animate-on-scroll scale-fade delay-2">
                <div class="tab-toggle">
                    <div class="tab-indicator" id="tabIndicator"></div>
                    <button class="tab-button active" data-tab="domains">Domains & Skills</button>
                    <button class="tab-button" data-tab="topics">Medicine Topics</button>
                </div>
            </div>
            
            <!-- Tab content wrapper -->
            <div class="tab-content-wrapper" id="tabContentWrapper">
            
            <!-- Tab Content: Domains & Skills -->
            <div class="tab-content active" id="domains-tab">
                <div class="subsection-header animate-on-scroll fade-up delay-3">
                    <h3>Domains & Skills</h3>
                    <p>Some of the Disciplines or Technical Skills you will use</p>
                </div>
                
                <!-- Domains grid -->
                <div class="features-grid">
                    <!-- Domain 01: Health Systems -->
                    <div class="feature-card animate-on-scroll fade-up">
                        <span class="feature-elaboration">Whole and Sum of Parts</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/health_systems.png" alt="Health Systems" loading="lazy">
                        </div>
                        <h3>Health Systems</h3>
                    </div>
                    
                    <!-- Domain 02: Evaluation Sciences -->
                    <div class="feature-card animate-on-scroll fade-up delay-1">
                        <span class="feature-elaboration">Making Things Happen</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/evaluation_sciences.png" alt="Evaluation Sciences" loading="lazy">
                        </div>
                        <h3>Evaluation Sciences</h3>
                    </div>
                    
                    <!-- Domain 03: Digital Informatics -->
                    <div class="feature-card animate-on-scroll fade-up delay-2">
                        <span class="feature-elaboration">Using Technology and Data</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/digital_informatics.png" alt="Digital Informatics" loading="lazy">
                        </div>
                        <h3>Digital Informatics</h3>
                    </div>
                    
                    <!-- Domain 04: Global & International Health -->
                    <div class="feature-card animate-on-scroll fade-up delay-3">
                        <span class="feature-elaboration">Beyond Borders</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/global_and_international_health.png" alt="Global & International Health" loading="lazy">
                        </div>
                        <h3>Global & International Health</h3>
                    </div>
                    
                    <!-- Domain 05: Health Policy, Law & Ethics -->
                    <div class="feature-card animate-on-scroll fade-up delay-4">
                        <span class="feature-elaboration">Doing things Right</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/health_policy.png" alt="Health Policy, Law & Ethics" loading="lazy">
                        </div>
                        <h3>Health Policy, Law & Ethics</h3>
                    </div>
                    
                    <!-- Domain 06: Epidemiology & Quantitative Methods -->
                    <div class="feature-card animate-on-scroll fade-up delay-5">
                        <span class="feature-elaboration">Counting Numbers</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/epidiemology.png" alt="Epidemiology & Quantitative Methods" loading="lazy">
                        </div>
                        <h3>Epidemiology & Quantitative Methods</h3>
                    </div>
                    
                    <!-- Domain 07: Social Science & Qualitative Methods -->
                    <div class="feature-card animate-on-scroll fade-up delay-6">
                        <span class="feature-elaboration">Telling Stories</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/social_sciences.png" alt="Social Science & Qualitative Methods" loading="lazy">
                        </div>
                        <h3>Social Science & Qualitative Methods</h3>
                    </div>
                    
                    <!-- Domain 08: Occupational and Environmental Health -->
                    <div class="feature-card animate-on-scroll fade-up">
                        <span class="feature-elaboration">Health at Work</span>
                        <div class="feature-icon domain-icon">
                            <img src="https://nicholashbh.github.io/brochure/skills/occupational_and_env_health.png" alt="Occupational and Environmental Health" loading="lazy">
                        </div>
                        <h3>Occupational and Environmental Health</h3>
                    </div>
                </div>
            </div>
            
            <!-- Tab Content: Preventive Medicine Topics -->
            <div class="tab-content" id="topics-tab">
                <div class="subsection-header animate-on-scroll fade-up delay-3">
                    <h3>Preventive Medicine Topics</h3>
                    <p>Some of the Fields of Knowledge you will work on</p>
                </div>
                
                <!-- Topics grid -->
                <div class="features-grid">
                    <!-- Topic: Infectious Disease -->
                    <div class="feature-card animate-on-scroll fade-up">
                        <span class="feature-elaboration">Prevention and control strategies</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/infectious_disease.png" alt="Infectious Disease" loading="lazy">
                        </div>
                        <h3>Infectious Disease</h3>
                    </div>
                    
                    <!-- Topic: Ageing and Leaving -->
                    <div class="feature-card animate-on-scroll fade-up delay-1">
                        <span class="feature-elaboration">End-of-life and geriatric health</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/ageing.png" alt="Ageing and Palliative Care" loading="lazy">
                        </div>
                        <h3>Ageing and Palliative Care</h3>
                    </div>
                    
                    <!-- Topic: Chronic Disease -->
                    <div class="feature-card animate-on-scroll fade-up delay-2">
                        <span class="feature-elaboration">Long-term condition management</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/chronic disease.png" alt="Chronic Disease" loading="lazy">
                        </div>
                        <h3>Chronic Disease</h3>
                    </div>
                    
                    <!-- Topic: Mental Health -->
                    <div class="feature-card animate-on-scroll fade-up delay-3">
                        <span class="feature-elaboration">Psychological wellbeing initiatives</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/mental_health.png" alt="Mental Health" loading="lazy">
                        </div>
                        <h3>Mental Health</h3>
                    </div>
                    
                    <!-- Topic: Food and Nutrition -->
                    <div class="feature-card animate-on-scroll fade-up delay-4">
                        <span class="feature-elaboration">Dietary health and food safety</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/food_nutrition.png" alt="Food and Nutrition" loading="lazy">
                        </div>
                        <h3>Food and Nutrition</h3>
                    </div>
                    
                    <!-- Topic: Maternal and Child Health -->
                    <div class="feature-card animate-on-scroll fade-up delay-5">
                        <span class="feature-elaboration">Family health and development</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/maternal_child_health.png" alt="Maternal and Child Health" loading="lazy">
                        </div>
                        <h3>Maternal and Child Health</h3>
                    </div>
                    
                    <!-- Topic: Primary and Community Care -->
                    <div class="feature-card animate-on-scroll fade-up delay-6">
                        <span class="feature-elaboration">Population health management</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/primary_care.png" alt="Primary and Community Care" loading="lazy">
                        </div>
                        <h3>Primary and Community Care</h3>
                    </div>
                    
                    <!-- Topic: Genomics and Precision Medicine -->
                    <div class="feature-card animate-on-scroll fade-up">
                        <span class="feature-elaboration">Personalized health approaches</span>
                        <div class="feature-icon topic-icon">
                            <img src="https://nicholashbh.github.io/brochure/topics/genomics_precision_med.png" alt="Genomics and Precision Medicine" loading="lazy">
                        </div>
                        <h3>Genomics and Precision Medicine</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- LIFE IN OUR PROGRAMME SECTION                 -->
    <!-- ============================================= -->
    <section class="life-programme" id="life-programme">
        <div class="container">
            <!-- Section header -->
            <div class="section-header animate-on-scroll fade-up">
                <span class="section-badge">Life in Our Programme</span>
                <h2>Hear from Our Residents</h2>
                <p class="section-subtitle">
                    Real stories and experiences from our preventive medicine community
                </p>
            </div>
            
            <!-- Testimonials Section -->
            <div class="testimonials-section animate-on-scroll fade-up delay-2">
                <h3 class="subsection-title">Resident Testimonials</h3>
                
                <!-- Testimonials Carousel Container -->
                <div class="testimonials-carousel">
                    <div class="testimonials-wrapper" id="testimonialsWrapper">
                        <!-- Testimonial cards will be dynamically inserted here -->
                    </div>
                    
                    <!-- Carousel Navigation -->
                    <div class="carousel-nav">
                        <button class="carousel-btn carousel-prev" id="testimonialPrev">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="carousel-dots" id="testimonialDots"></div>
                        <button class="carousel-btn carousel-next" id="testimonialNext">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Photo Gallery Section -->
            <div class="gallery-section animate-on-scroll fade-up delay-3">
                <h3 class="subsection-title">Programme Highlights</h3>
                
                <!-- Gallery Carousel Container -->
                <div class="gallery-carousel">
                    <div class="gallery-wrapper" id="galleryWrapper">
                        <!-- Gallery images will be dynamically inserted here -->
                    </div>
                    
                    <!-- Gallery Navigation -->
                    <button class="gallery-nav gallery-nav-prev" id="galleryPrev">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="gallery-nav gallery-nav-next" id="galleryNext">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Lightbox Modal -->
        <div class="lightbox" id="lightbox">
            <button class="lightbox-close" id="lightboxClose">&times;</button>
            <img src="" alt="" id="lightboxImage">
            <div class="lightbox-caption" id="lightboxCaption"></div>
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- CALL-TO-ACTION SECTION                        -->
    <!-- ============================================= -->
    <section class="cta-section" id="apply">
        <div class="container">
            <div class="cta-content animate-on-scroll scale-fade">
                <h2>Ready to Make a Difference?</h2>
                <p>Join us in shaping the future of preventive medicine and public health in Singapore</p>
                
                <!-- CTA buttons -->
                <div class="cta-buttons">
                    <a href="https://sab.healthprofessionals.gov.sg/specialist-training/list-of-recognised-specialties/preventive-medicine" 
                       class="btn btn-primary">Training Requirements</a>
                    <a href="https://www.nuhs.edu.sg/education/postgraduate-education/nuhs-residency/preventive-medicine-residency-programme" 
                       class="btn btn-secondary">More details</a>
                </div>
            </div>
        </div>
    </section>
    
    
    <!-- ============================================= -->
    <!-- FOOTER                                        -->
    <!-- ============================================= -->
    <footer>
        <div class="footer-content">
            <!-- Copyright notice -->
            <p>&copy; 2025 National University Health System. All rights reserved.</p>
        </div>
    </footer>
    
    
    <!-- ============================================= -->
    <!-- JAVASCRIPT                                    -->
    <!-- ============================================= -->
    <script>
        // =============================================
        // Welcome Overlay Animation Control
        // =============================================
        
        // Get the welcome overlay element
        const welcomeOverlay = document.getElementById('welcomeOverlay');
        const skipButton = document.getElementById('skipButton');
        
        // Skip button functionality
        skipButton.addEventListener('click', function() {
            // Immediately remove the overlay
            welcomeOverlay.style.animation = 'overlayFadeOut 0.5s ease-out forwards';
            
            // Remove the overlay after animation completes
            setTimeout(() => {
                welcomeOverlay.style.display = 'none';
            }, 500);
        });
        
        // Add fade-out class to trigger exit animation
        // This happens automatically after the CSS animations complete
        welcomeOverlay.classList.add('fade-out');
        
        
        // =============================================
        // Tab Toggle Functionality
        // =============================================
        
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const tabIndicator = document.getElementById('tabIndicator');
        
		// Initialize tab indicator position
		function updateTabIndicator(activeButton) {
			const buttonRect = activeButton.getBoundingClientRect();
			const toggleRect = activeButton.parentElement.getBoundingClientRect();
			const buttons = Array.from(activeButton.parentElement.querySelectorAll('.tab-button'));
			const activeIndex = buttons.indexOf(activeButton);
    
			if (activeIndex === 0) {
				// First button - align to left padding
				tabIndicator.style.width = `${buttonRect.width}px`;
				tabIndicator.style.transform = `translateX(0)`;
			} else {
				// Second button - calculate to maintain right padding
				const togglePadding = 8; // 0.5rem
				const availableWidth = toggleRect.width - (togglePadding * 2);
				const firstButtonWidth = buttons[0].getBoundingClientRect().width;
        
				// Position at the start of the second button
				const leftPosition = buttonRect.left - toggleRect.left - togglePadding;
				// Width should fit within the remaining space
				const indicatorWidth = availableWidth - leftPosition;
        
				tabIndicator.style.width = `${indicatorWidth}px`;
				tabIndicator.style.transform = `translateX(${leftPosition}px)`;
			}
		}

        
        // Set initial indicator position
        const initialActiveButton = document.querySelector('.tab-button.active');
        if (initialActiveButton) {
            updateTabIndicator(initialActiveButton);
        }
        
        // Tab click handler
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                const wrapper = document.getElementById('tabContentWrapper');
                const currentActive = document.querySelector('.tab-content.active');
                const targetContent = document.getElementById(`${targetTab}-tab`);
                
                // Don't do anything if clicking the already active tab
                if (targetContent === currentActive) return;
                
                // Measure current content height
                if (currentActive) {
                    const currentHeight = currentActive.offsetHeight;
                    wrapper.style.minHeight = currentHeight + 'px';
                }
                
                // Update button states
                tabButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Update indicator position
                updateTabIndicator(this);
                
                // Prepare target content (make it visible but transparent)
                if (targetContent) {
                    targetContent.style.display = 'block';
                    targetContent.style.opacity = '0';
                    targetContent.style.position = 'absolute';
                    
                    // Force browser to calculate layout
                    targetContent.offsetHeight;
                    
                    // Measure target content height
                    const targetHeight = targetContent.scrollHeight;
                    
                    // Start the transition
                    requestAnimationFrame(() => {
                        // Fade out current content
                        if (currentActive) {
                            currentActive.classList.remove('active');
                            currentActive.style.opacity = '0';
                        }
                        
                        // Set new height
                        wrapper.style.minHeight = targetHeight + 'px';
                        
                        // After opacity transition completes
                        setTimeout(() => {
                            // Hide old content
                            if (currentActive) {
                                currentActive.style.display = 'none';
                            }
                            
                            // Show new content
                            targetContent.style.position = 'relative';
                            targetContent.classList.add('active');
                            targetContent.style.opacity = '1';
                        }, 300);
                    });
                }
            });
        });
        
        // Update indicator on window resize
        window.addEventListener('resize', () => {
            const activeButton = document.querySelector('.tab-button.active');
            if (activeButton) {
                updateTabIndicator(activeButton);
            }
        });
        
        // Initialize tab content wrapper height
        window.addEventListener('load', () => {
            const wrapper = document.getElementById('tabContentWrapper');
            const activeContent = document.querySelector('.tab-content.active');
            if (wrapper && activeContent) {
                // Set initial height based on active content
                wrapper.style.minHeight = activeContent.offsetHeight + 'px';
            }
        });
        
        // Also set height after DOM content loads in case images affect height
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const wrapper = document.getElementById('tabContentWrapper');
                const activeContent = document.querySelector('.tab-content.active');
                if (wrapper && activeContent) {
                    wrapper.style.minHeight = activeContent.offsetHeight + 'px';
                }
            }, 100);
        });
        
        
        // =============================================
        // Hero Tagline Rotation with Blur & Focus
        // =============================================
        
        const taglines = [
            "Prevent Today, Protect Tomorrow",
            "Nurturing Leaders to Safeguard Singapore's Health Future",
            "Where Prevention Meets Purpose",
            "Where Public Health Meets Professional Excellence",
            "A National Programme with Global Vision"
        ];
        
        let currentTaglineIndex = 0;
        const taglineElement = document.getElementById('heroTagline');
        
        function rotateTagline() {
            // Start blur out animation
            taglineElement.classList.remove('focused');
            taglineElement.classList.add('blur-out');
            
            setTimeout(() => {
                // Change text while blurred
                currentTaglineIndex = (currentTaglineIndex + 1) % taglines.length;
                taglineElement.textContent = taglines[currentTaglineIndex];
                
                // Prepare for blur in
                taglineElement.classList.remove('blur-out');
                taglineElement.classList.add('blur-in');
                
                // Start focus animation
                setTimeout(() => {
                    taglineElement.classList.remove('blur-in');
                    taglineElement.classList.add('focused');
                }, 50);
            }, 800); // Wait for blur out to complete
        }
        
        // Initial focus state
        taglineElement.classList.add('focused');
        
        // Start rotation after initial display (3 seconds for first tagline)
        setTimeout(() => {
            rotateTagline();
            // Then rotate every 3.8 seconds (3s display + 0.8s transition)
            setInterval(rotateTagline, 3800);
        }, 3000);
        
        
        // =============================================
        // Smooth Scroll Navigation
        // =============================================
        
        // Add smooth scrolling to all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Get the target section
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                // Smooth scroll to the target section
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        
        // =============================================
        // Header Logo Animation
        // =============================================
        
        // Logo now appears immediately with the nav bar
        // setTimeout removed - logo is visible from page load
        document.getElementById('headerLogoImg').classList.add('visible');
        
        
        // =============================================
        // Navigation Bar Scroll Effect
        // =============================================
        
        // Add scroll effect to navigation bar
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
        
        
        // =============================================
        // Scroll Animation Observer
        // =============================================
        
        // Set up Intersection Observer for scroll animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };
        
        const animationObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Add animated class when element is visible
                    entry.target.classList.add('animated');
                    
                    // Check if element contains a number counter
                    const statNumber = entry.target.querySelector('.stat-number');
                    if (statNumber) {
                        // Always animate counter when coming into view
                        animateCounter(statNumber);
                    }
                    
                    // For non-stat elements, stop observing after animation
                    if (!entry.target.classList.contains('stat-item')) {
                        animationObserver.unobserve(entry.target);
                    }
                } else {
                    // When element leaves viewport
                    const statNumber = entry.target.querySelector('.stat-number');
                    if (statNumber) {
                        // Reset stat number to 0 when out of view
                        const suffix = statNumber.getAttribute('data-suffix') || '';
                        statNumber.textContent = '0' + suffix;
                        statNumber.classList.remove('complete');
                        
                        // Clear any ongoing animation
                        if (statNumber.animationTimer) {
                            clearInterval(statNumber.animationTimer);
                            statNumber.animationTimer = null;
                        }
                    }
                }
            });
        }, observerOptions);
        
        // Start observing all elements with animation classes
        document.addEventListener('DOMContentLoaded', () => {
            const animatedElements = document.querySelectorAll('.animate-on-scroll');
            animatedElements.forEach(el => {
                animationObserver.observe(el);
            });
        });
        
        
        // =============================================
        // Number Counter Animation
        // =============================================
        
        function animateCounter(element) {
            // Clear any existing animation
            if (element.animationTimer) {
                clearInterval(element.animationTimer);
            }
            
            const target = parseInt(element.getAttribute('data-count'));
            const suffix = element.getAttribute('data-suffix') || '';
            const duration = 2000; // 2 seconds
            const increment = target / (duration / 16); // 60fps
            let current = 0;
            
            // Store timer reference on element for cleanup
            element.animationTimer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target + suffix;
                    element.classList.add('complete');
                    clearInterval(element.animationTimer);
                    element.animationTimer = null;
                } else {
                    element.textContent = Math.floor(current) + suffix;
                }
            }, 16);
        }
        
        
        // =============================================
        // Programme Structure Click Interactions
        // =============================================
        
        // Get timeline content elements
        const juniorResidency = document.getElementById('juniorResidency');
        const seniorResidency = document.getElementById('seniorResidency');
        const timelineItems = document.querySelectorAll('.timeline-item');
        
        // Add click handlers to both cards
        [juniorResidency, seniorResidency].forEach((card, index) => {
            card.addEventListener('click', function(e) {
                // Don't toggle if clicking on an already expanded card's content
                if (e.target.closest('.timeline-body') && this.classList.contains('active')) {
                    return;
                }
                
                // Toggle active class
                const wasActive = this.classList.contains('active');
                
                // Close all cards first
                document.querySelectorAll('.timeline-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.querySelectorAll('.timeline-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Open clicked card if it wasn't active
                if (!wasActive) {
                    this.classList.add('active');
                    timelineItems[index].classList.add('active');
                }
            });
        });
        
        // Add hover effect to timeline dots
        document.querySelectorAll('.timeline-dot').forEach((dot, index) => {
            dot.addEventListener('click', function() {
                const correspondingCard = index === 0 ? juniorResidency : seniorResidency;
                correspondingCard.click();
            });
        });
        
        
        // =============================================
        // Life in Our Programme - Data & Functionality
        // =============================================
        
        // Testimonials Data - Easy to Edit
const testimonials = [
    {
        name: "Dr. Leonara Liu",
        year: "2018 cohort",
        photo: "https://nicholashbh.github.io/brochure/testimonials/leonara_liu.png",
        testimonial: `I chose to join the National Preventive Medicine Residency (NPMR) Programme as I wanted to work at the systems level, to effect change that would benefit the health of communities and populations. To me, health goes beyond healthcare. Equally as important as the medical treatment of the sick are the preventative efforts to address the biological, social and environmental determinants of health.
		
Through a mandatory Master of Public Health (MPH) in junior residency, NPMR residents acquire essential knowledge in epidemiology, biostatistics and health behaviour change, among other areas. My rotations through public healthcare clusters and public health agencies (e.g. Ministry of Health) have allowed me to leverage on my experience in clinical medicine and apply public health principles learnt during my MPH to shape and operationalise healthcare policies.

By working with a wide range of stakeholders including senior management, policy-makers, clinicians and researchers, the programme has also given me myriad opportunities to hone my collaboration and communication skills. For example, during my time in the Ministry of Health, I facilitated discussions between politicians, clinicians and representatives from the Ministry of Social and Family Development, to develop pilot programmes integrating upstream and downstream health and social care for Persons with Disabilities.

Part of what makes Preventive Medicine (i.e. Public Health and Occupational Medicine) exciting to me is how broad the field is. Since rotations are tailored to each individual resident's interests, this translates into a heterogeneity of experiences among residents. This diversity among residents creates an environment that promotes an interdisciplinary approach to learning and problem-solving, and has trained me to consider each public health issue from different perspectives.`
    },
            {
                name: "Dr. Nicholas Hang",
                year: "2025 cohort",
                photo: "https://nicholashbh.github.io/brochure/testimonials/nick_hang.png", // Replace with actual URL
                testimonial: `I chose Preventive Medicine because I want to impact health beyond individual patient encountersâ€”focusing on populations and communities instead. The diversity of public health and occupational medicine is one of the most appealing aspects of this field. As I begin this program, I'm already seeing opportunities that exist well outside the traditional hospital setting, from workplace health assessments and environmental monitoring to policy development and community health programs.

The curriculum ahead covers epidemiology, biostatistics, health policy, and health promotion across various real-world applications. I'm looking forward to gaining experience in corporate settings, government agencies, research environments, and community organizationsâ€”each offering different perspectives on how to improve population health.

Early in the program, I'm already working with management teams, policymakers, clinicians, and researchers, which is improving my ability to communicate across different professional contexts. The collaborative nature of this work is both challenging and engaging as we tackle the complex factors that influence health outcomes.

I'm excited about the variety of roles available in preventive medicine and feel this program is setting me up well to address public health challenges in whatever setting I eventually choose. For anyone interested in population health, this program provides solid training and exposes you to career paths you probably haven't considered. The field offers more options than most people realize.`
            },
            {
                name: "Dr. Sean Lim",
                year: "2024 cohort",
                photo: "https://nicholashbh.github.io/brochure/testimonials/sean_lim.png", // Replace with actual URL
                testimonial: "As a senior resident, I've witnessed how this programme prepares us to be future leaders in preventive medicine. The research opportunities have been exceptional, allowing me to contribute to evidence-based policy making. My rotations through SAF and various community health settings have shown me the breadth of preventive medicine applications. The programme's emphasis on both traditional public health and emerging areas like digital health has positioned me well for the evolving healthcare landscape."
            },
            {
                name: "Dr. James Lim",
                year: "PGY-2",
                photo: "https://github.com/username/repo/raw/main/resident4.jpg", // Replace with actual URL
                testimonial: "The structured yet flexible approach of this residency allows us to tailor our learning to our interests. I've been particularly impressed by the quality of teaching and the real-world applications of our training. Working on outbreak investigations and health promotion campaigns has shown me the immediate impact of preventive medicine. The supportive community of residents and faculty creates an environment where we can truly excel and make meaningful contributions to Singapore's health system."
            }
        ];
        
        // Photo Gallery Data - Easy to Edit (just add/remove objects)
        const galleryImages = [
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/1.png", // Replace with actual URL
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/2.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/3.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/4.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/5.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/6.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/7.png",
                caption: ""
            },
            {
                url: "https://nicholashbh.github.io/brochure/photo_album/8.png",
                caption: ""
            },
			{
                url: "https://nicholashbh.github.io/brochure/photo_album/9.png",
                caption: ""
            },
			{
                url: "https://nicholashbh.github.io/brochure/photo_album/10.png",
                caption: ""
            },
			{
                url: "https://nicholashbh.github.io/brochure/photo_album/11.png",
                caption: ""
            },
			{ 
		url: "https://nicholashbh.github.io/brochure/photo_album/12.png",
                caption: "testing 123"
            }
        ];
        
        // Initialize testimonials
        let currentTestimonial = 0;
        const testimonialsWrapper = document.getElementById('testimonialsWrapper');
        const testimonialDots = document.getElementById('testimonialDots');
        
        // Function to handle image load errors
        function handleImageError(img, initials) {
            const parent = img.parentElement;
            parent.classList.add('has-initials');
            parent.innerHTML = `<div class="student-initials">${initials}</div>`;
        }
        
        // Generate testimonial cards
        testimonials.forEach((testimonial, index) => {
            const initials = testimonial.name.split(' ').map(n => n[0]).join('');
            const card = document.createElement('div');
            card.className = 'testimonial-card';
            
            // Create photo section
            const photoSection = document.createElement('div');
            photoSection.className = 'student-photo-section' + (!testimonial.photo ? ' has-initials' : '');
            
            if (testimonial.photo) {
                const img = document.createElement('img');
                img.src = testimonial.photo;
                img.alt = testimonial.name;
                img.onerror = function() {
                    handleImageError(this, initials);
                };
                photoSection.appendChild(img);
            } else {
                photoSection.innerHTML = `<div class="student-initials">${initials}</div>`;
            }
            
            // Create content section
            const contentSection = document.createElement('div');
            contentSection.className = 'testimonial-content-section';
            contentSection.innerHTML = `
                <div class="student-info">
                    <div class="student-details">
                        <h4>${testimonial.name}</h4>
                        <p class="year">${testimonial.year}</p>
                    </div>
                </div>
                <div class="testimonial-content">
                    <p class="testimonial-text">${testimonial.testimonial}</p>
                </div>
            `;
            
            card.appendChild(photoSection);
            card.appendChild(contentSection);
            testimonialsWrapper.appendChild(card);
            
            // Create dot for navigation
            const dot = document.createElement('div');
            dot.className = 'carousel-dot' + (index === 0 ? ' active' : '');
            dot.addEventListener('click', () => goToTestimonial(index));
            testimonialDots.appendChild(dot);
        });
        
        // Testimonial navigation functions
        function updateTestimonialPosition() {
            testimonialsWrapper.style.transform = `translateX(-${currentTestimonial * 100}%)`;
            
            // Update dots
            document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentTestimonial);
            });
            
            // Update button states
            document.getElementById('testimonialPrev').disabled = currentTestimonial === 0;
            document.getElementById('testimonialNext').disabled = currentTestimonial === testimonials.length - 1;
        }
        
        function goToTestimonial(index) {
            currentTestimonial = index;
            updateTestimonialPosition();
        }
        
        // Testimonial button controls
        document.getElementById('testimonialPrev').addEventListener('click', () => {
            if (currentTestimonial > 0) {
                currentTestimonial--;
                updateTestimonialPosition();
            }
        });
        
        document.getElementById('testimonialNext').addEventListener('click', () => {
            if (currentTestimonial < testimonials.length - 1) {
                currentTestimonial++;
                updateTestimonialPosition();
            }
        });
        
        // Auto-rotate testimonials with pause on hover
        let testimonialAutoRotate;
        
        function startTestimonialRotation() {
            testimonialAutoRotate = setInterval(() => {
                currentTestimonial = (currentTestimonial + 1) % testimonials.length;
                updateTestimonialPosition();
            }, 6000);
        }
        
        function stopTestimonialRotation() {
            if (testimonialAutoRotate) {
                clearInterval(testimonialAutoRotate);
                testimonialAutoRotate = null;
            }
        }
        
        // Start auto-rotation
        startTestimonialRotation();
        
        // Pause on hover
        const testimonialsCarousel = document.querySelector('.testimonials-carousel');
        testimonialsCarousel.addEventListener('mouseenter', stopTestimonialRotation);
        testimonialsCarousel.addEventListener('mouseleave', startTestimonialRotation);
        
        // Initialize gallery
        let currentGalleryPosition = 0;
        const galleryWrapper = document.getElementById('galleryWrapper');
        const itemsPerView = 3;
        const maxPosition = Math.max(0, galleryImages.length - itemsPerView);
        
        // Generate gallery items
        galleryImages.forEach((image, index) => {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.innerHTML = `
                <img src="${image.url}" alt="Gallery image ${index + 1}" 
                     onerror="this.src='https://via.placeholder.com/600x400/003D82/FFFFFF?text=Photo+${index + 1}'">
                <div class="gallery-overlay">
                    <p class="gallery-caption">${image.caption}</p>
                </div>
            `;
            item.addEventListener('click', () => openLightbox(index));
            galleryWrapper.appendChild(item);
        });
        
        // Gallery navigation functions
		function updateGalleryPosition() {
			const translateX = -(currentGalleryPosition * (100 / itemsPerView));
			galleryWrapper.style.transform = `translateX(${translateX}%)`;
    
			// Update button states - use disabled attribute instead of hiding
			const prevButton = document.getElementById('galleryPrev');
			const nextButton = document.getElementById('galleryNext');
    
			prevButton.disabled = currentGalleryPosition === 0;
			nextButton.disabled = currentGalleryPosition >= maxPosition;
		}
        
        // Gallery button controls
        document.getElementById('galleryPrev').addEventListener('click', () => {
            if (currentGalleryPosition > 0) {
                currentGalleryPosition--;
                updateGalleryPosition();
            }
        });
        
        document.getElementById('galleryNext').addEventListener('click', () => {
            if (currentGalleryPosition < maxPosition) {
                currentGalleryPosition++;
                updateGalleryPosition();
            }
        });
        
        // Lightbox functionality
        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightboxImage');
        const lightboxCaption = document.getElementById('lightboxCaption');
        
        function openLightbox(index) {
            const image = galleryImages[index];
            lightboxImage.src = image.url;
            lightboxImage.alt = image.caption;
            lightboxCaption.textContent = image.caption;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        // Lightbox close events
        document.getElementById('lightboxClose').addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });
        
        // Keyboard navigation for lightbox
        document.addEventListener('keydown', (e) => {
            if (lightbox.classList.contains('active') && e.key === 'Escape') {
                closeLightbox();
            }
        });
        
        // Initialize positions
        updateTestimonialPosition();
        updateGalleryPosition();
    </script>
</body>
</html>
